# Тестовое задание на бэкенд разработчика в Интресвязь

----
В основе лежит yii2-app-basic шаблон, всю информацию по нему можно найти в официальной
репе [yii2](https://github.com/yiisoft/yii2) или [на сайте](https://www.yiiframework.com/doc/guide/2.0/ru)

Для запуска потребуется
------------

- docker [гайд для установки](https://docs.docker.com/engine/install/)
- docker-compose [гайд для установки](https://docs.docker.com/compose/install/)

Запуск
------------

Клонируем проект на локальную машину.

    git clone https://github.com/syntheticsh/test_prj.git

Переходим в проект

    cd test_prj

Запускать можно в любой удобной среде, для простоты тут есть файл конфигурации docker-compose.yml через который и
предлагается вести разработку

Устанавливаем зависимости

    docker-compose run --rm php composer install

Запускаем

    docker-compose up -d

Всё, сайт доступен по следующему урлу:

    http://127.0.0.1:8000

Задание
-------------

нужно написать и выполнить миграцию для создания таблицы `test_data` с двумя столбцами `id` integer, `data` jsonb к сама
база (postgresql) для тестов доступна на

~~~
host = localhost
port = 5432
username = yii
password = 123456
~~~

На только что созданную таблицу, нужно сделать следующее апи:

    POST http:127.0.0.1:8000/api/add

На апи можно будет послать условно любой json и он сохранится в таблице

    GET http:127.0.0.1:8000/api/list

Получить список уже вставленных в таблицу данных

### Бонусное задание 1

Оптимизировать работу с базой данных при запросе списка `http:127.0.0.1:8000/api/list`. Можно применить любую знакомую
вам технологию. Например можно облегчить работу при условии что почти всем клиентам будут нужны почти одни и те же
записи.

### Бонусное задание 2

Оптимизировать работу с базой данных при загрузке данных `http:127.0.0.1:8000/api/add`. Например можно записывать данные
в базу использую только одно соединение, несмотря на то что php worker pool будет больше 1.
